<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For Safa ‚ù§Ô∏è</title>
    <style>
        :root {
            --bg: #1a0101;
            --gold: #d4af37;
            --white: #fff;
        }

        body {
            background-color: var(--bg);
            color: var(--white);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0; padding: 0;
            min-height: 100vh;
            display: flex; justify-content: center; align-items: center;
            overflow-x: hidden; text-align: center;
        }

        #canvas { position: fixed; top: 0; left: 0; pointer-events: none; z-index: 1; }
        .ui-wrapper { position: relative; z-index: 10; width: 90%; max-width: 450px; padding: 20px; }
        .gif-img, .final-img { width: 100%; max-width: 280px; border-radius: 20px; margin: 20px 0; border: 3px solid var(--gold); }

        .btn-container { display: flex; flex-wrap: wrap; justify-content: center; gap: 15px; margin-top: 20px; min-height: 100px; }
        
        button {
            background: var(--gold); color: black; border: none;
            padding: 12px 25px; border-radius: 50px; font-weight: bold;
            cursor: pointer; transition: transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275); font-size: 1rem;
        }

        #no-btn { background: #444; color: white; }

        /* STAGES */
        #stage-2, #stage-zor, #stage-handak, #stage-final { display: none; }
        .kurdish-txt { font-size: 1.8rem; color: var(--gold); font-weight: bold; margin-bottom: 10px; }
        .final-txt { font-size: 2.2rem; color: var(--gold); font-weight: bold; margin-top: 15px; }
        #pew { position: absolute; top: -30px; width: 100%; color: var(--gold); font-weight: bold; display: none; }
        
        /* Hidden Audio */
        #video-container { position: absolute; width: 0; height: 0; overflow: hidden; pointer-events: none; }
    </style>
</head>
<body>

<canvas id="canvas"></canvas>

<div id="video-container">
    <div id="player"></div>
</div>

<div class="ui-wrapper">
    <div id="stage-1">
        <h1 style="font-size: 2.2rem;">AMNT XOSH DAWY ü•π</h1>
        <div class="btn-container" style="position: relative;">
            <div id="pew">( pew )</div>
            <button id="yes-btn" onclick="startExperience()">YES</button>
            <button id="no-btn" onclick="shrinkNo()">NO</button>
        </div>
    </div>

    <div id="stage-2">
        <div class="kurdish-txt">Chand amnt xosh dawy?</div>
        <img src="https://media3.giphy.com/media/v1.Y2lkPTZjMDliOTUyZDIyY2psNnkxc20wOHc0aWw4eXJpa3JkdmtqZWE5NHoydjQ4dmM4aCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/901mxGLGQN2PyCQpoc/giphy.gif" class="gif-img">
        <div class="btn-container">
            <button onclick="showZor()">Zor</button>
            <button onclick="showZor()">ZORRRRRR</button>
            <button onclick="showHandak()">Handak</button>
            <button onclick="showZor()">GALAK ZORRRRRR</button>
        </div>
    </div>

    <div id="stage-zor">
        <div class="kurdish-txt">Zor? Bas Zor? üòò</div>
        <img src="https://media0.giphy.com/media/v1.Y2lkPTZjMDliOTUyZm01cmxpbHJiNjJtMHh5YnlzZ3JoMW14Mnp6cjJ3MmhsbXVwYWd1byZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/ytu2GUYbvhz7zShGwS/giphy.gif" class="gif-img">
        <br><button onclick="showFinal()" style="margin-top: 20px;">GALAK ZOR!</button>
    </div>

    <div id="stage-handak">
        <div class="kurdish-txt">Handak?! ü§®</div>
        <img src="https://media1.giphy.com/media/v1.Y2lkPTZjMDliOTUyZnp4ejhib2JlaWV5MDN0b2IybzV0cm5uNHYxbnU0MDU3cjdpZ2p6diZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/fFa05KbZowXiEIyRse/giphy.gif" class="gif-img">
        <br><button onclick="showFinal()" style="margin-top: 20px;">GALAK ZOR!</button>
    </div>

    <div id="stage-final">
        <img src="image.png" class="final-img" onerror="this.style.display='none'">
        <div class="final-txt">Atum zor xosh dawyyyyyyy</div>
        <div style="font-size: 3rem; margin-top: 10px;">‚ù§Ô∏èüíê‚ù§Ô∏è</div>
    </div>
</div>

<script>
    // YouTube API Integration for Background Music
    var tag = document.createElement('script');
    tag.src = "https://www.youtube.com/iframe_api";
    var firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

    var player;
    function onYouTubeIframeAPIReady() {
        player = new YT.Player('player', {
            height: '0', width: '0',
            videoId: 'm_W_7B4pIEM', // The music from the TikTok link
            playerVars: { 'autoplay': 0, 'controls': 0, 'loop': 1, 'playlist': 'm_W_7B4pIEM' }
        });
    }

    let noScale = 1;
    let yesScale = 1;

    function shrinkNo() {
        noScale -= 0.15;
        yesScale += 0.25;
        const noBtn = document.getElementById('no-btn');
        const yesBtn = document.getElementById('yes-btn');
        const pew = document.getElementById('pew');
        noBtn.style.transform = `scale(${noScale})`;
        yesBtn.style.transform = `scale(${yesScale})`;
        pew.style.display = 'block';
        setTimeout(() => { pew.style.display = 'none'; }, 500);
        if (noScale <= 0.1) noBtn.style.display = 'none';
    }

    function startExperience() {
        if (player && player.playVideo) { player.playVideo(); }
        document.getElementById('stage-1').style.display = 'none';
        document.getElementById('stage-2').style.display = 'block';
    }

    function showZor() {
        document.getElementById('stage-2').style.display = 'none';
        document.getElementById('stage-zor').style.display = 'block';
    }

    function showHandak() {
        document.getElementById('stage-2').style.display = 'none';
        document.getElementById('stage-handak').style.display = 'block';
    }

    function showFinal() {
        document.getElementById('stage-2').style.display = 'none';
        document.getElementById('stage-zor').style.display = 'none';
        document.getElementById('stage-handak').style.display = 'none';
        document.getElementById('stage-final').style.display = 'block';
        startHeavyHearts();
    }

    // Animation Code
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    let particles = [];
    function resize() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
    window.onresize = resize; resize();

    class Particle {
        constructor() { this.reset(); }
        reset() {
            this.x = Math.random() * canvas.width;
            this.y = canvas.height + 50;
            this.char = Math.random() > 0.5 ? '‚ù§Ô∏è' : 'üå∏';
            this.size = Math.random() * 20 + 10;
            this.speed = Math.random() * 3 + 1;
        }
        update() { this.y -= this.speed; if (this.y < -50) this.reset(); }
        draw() { ctx.font = `${this.size}px serif`; ctx.fillText(this.char, this.x, this.y); }
    }

    for(let i=0; i<30; i++) particles.push(new Particle());
    function startHeavyHearts() { for(let i=0; i<60; i++) particles.push(new Particle()); }

    function render() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        particles.forEach(p => { p.update(); p.draw(); });
        requestAnimationFrame(render);
    }
    render();
</script>
</body>
</html>
