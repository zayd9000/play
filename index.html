<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For Safa ‚ù§Ô∏è</title>
    <style>
        :root { --bg: #1a0101; --gold: #d4af37; }
        body {
            background-color: var(--bg); color: white;
            font-family: 'Segoe UI', sans-serif; margin: 0; padding: 0;
            height: 100vh; display: flex; justify-content: center; align-items: center;
            overflow: hidden; text-align: center;
        }
        #canvas { position: fixed; top: 0; left: 0; pointer-events: none; z-index: 1; }
        .ui-wrapper { position: relative; z-index: 10; width: 90%; max-width: 450px; padding: 20px; }
        
        /* Layout to prevent overlapping */
        .btn-container { 
            display: flex; justify-content: center; align-items: center; 
            gap: 20px; margin-top: 30px; position: relative; width: 100%;
            min-height: 60px;
        }

        button {
            background: var(--gold); color: black; border: none;
            padding: 12px 25px; border-radius: 50px; font-weight: bold;
            cursor: pointer; font-size: 1rem; white-space: nowrap;
            box-shadow: 0 4px 15px rgba(212, 175, 55, 0.3);
        }

        #no-btn, #handak-btn { transition: all 0.1s ease; }

        /* Start Screen Overlay */
        #overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--bg); z-index: 100; display: flex;
            flex-direction: column; justify-content: center; align-items: center;
        }

        .gif-img { width: 100%; max-width: 250px; border-radius: 20px; border: 2px solid var(--gold); margin: 15px 0; }
        #stage-2, #stage-zor, #stage-handak, #stage-final { display: none; }
        .kurdish-txt { font-size: 1.8rem; color: var(--gold); font-weight: bold; }
    </style>
</head>
<body>

<canvas id="canvas"></canvas>

<audio id="bg-music" loop>
    <source src="https://www.dropbox.com/scl/fi/do7njslfvq5l6xqf0b2ho/v24044gl0000d4tkunnog65ppbq0o2g0.mp4?rlkey=bkwkv5z88jyl5sbu4anypis3s&st=16g37775&raw=1" type="audio/mp4">
</audio>

<div id="overlay">
    <h1 style="color: var(--gold); font-size: 2.5rem;">For You ‚ù§Ô∏è</h1>
    <button onclick="unlockMusic()">Open Surprise üéÅ</button>
</div>

<div class="ui-wrapper">
    <div id="stage-1">
        <h1 style="font-size: 2.2rem;">AMNT XOSH DAWY ü•π</h1>
        <div class="btn-container">
            <button id="yes-btn" onclick="nextStage('2')">YES</button>
            <button id="no-btn" onmouseover="moveBtn(this)" onclick="moveBtn(this)">NO</button>
        </div>
    </div>

    <div id="stage-2">
        <div class="kurdish-txt">Chand amnt xosh dawy?</div>
        <img src="https://media3.giphy.com/media/v1.Y2lkPTZjMDliOTUyZDIyY2psNnkxc20wOHc0aWw4eXJpa3JkdmtqZWE5NHoydjQ4dmM4aCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/901mxGLGQN2PyCQpoc/giphy.gif" class="gif-img">
        <div class="btn-container">
            <button onclick="nextStage('zor')">Zor</button>
            <button onclick="nextStage('zor')">ZORRRR</button>
            <button id="handak-btn" onmouseover="moveBtn(this)" onclick="moveBtn(this)">Handak</button>
            <button onclick="nextStage('zor')">GALAK ZOR</button>
        </div>
    </div>

    <div id="stage-zor">
        <div class="kurdish-txt">Zor? Bas Zor? üòò</div>
        <img src="https://media0.giphy.com/media/v1.Y2lkPTZjMDliOTUyZm01cmxpbHJiNjJtMHh5YnlzZ3JoMW14Mnp6cjJ3MmhsbXVwYWd1byZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/ytu2GUYbvhz7zShGwS/giphy.gif" class="gif-img">
        <div class="btn-container">
            <button onclick="nextStage('final')">GALAK ZOR!</button>
        </div>
    </div>

    <div id="stage-final">
        <img src="image.png" class="gif-img" onerror="this.src='https://media.giphy.com/media/v1.Y2lkPTZjMDliOTU5bzIwaHoxeGZleXp6eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4JmVwPXYxX2ludGVybmFsX2dpZl9ieV9pZCZjdD1n/L2quk2th1YfR4H9T0n/giphy.gif'">
        <div style="font-size: 2.2rem; color: var(--gold); font-weight: bold; margin-top:15px;">Atum zor xosh dawyyyyyyy</div>
        <div style="font-size: 3rem; margin-top: 10px;">‚ù§Ô∏èüíê‚ù§Ô∏è</div>
    </div>
</div>

<script>
    const music = document.getElementById('bg-music');

    function unlockMusic() {
        document.getElementById('overlay').style.display = 'none';
        music.play().catch(e => console.log("Music play blocked by browser"));
    }

    function moveBtn(btn) {
        // Teleports button to a random spot to avoid overlap/clicking
        const x = Math.random() * (window.innerWidth - btn.offsetWidth);
        const y = Math.random() * (window.innerHeight - btn.offsetHeight);
        btn.style.position = 'fixed';
        btn.style.left = x + 'px';
        btn.style.top = y + 'px';
        btn.style.zIndex = "1000";
    }

    function nextStage(stageId) {
        document.querySelectorAll('.ui-wrapper > div').forEach(div => div.style.display = 'none');
        document.getElementById('stage-' + stageId).style.display = 'block';
        if(stageId === 'final') startHeavyHearts();
    }

    // Floating Hearts/Flowers Animation
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    let particles = [];
    function resize() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
    window.onresize = resize; resize();

    class Particle {
        constructor() { this.reset(); }
        reset() {
            this.x = Math.random() * canvas.width;
            this.y = canvas.height + 50;
            this.char = Math.random() > 0.5 ? '‚ù§Ô∏è' : 'üå∏';
            this.size = Math.random() * 20 + 10;
            this.speed = Math.random() * 2 + 1;
        }
        update() { this.y -= this.speed; if (this.y < -50) this.reset(); }
        draw() { ctx.font = `${this.size}px serif`; ctx.fillText(this.char, this.x, this.y); }
    }

    for(let i=0; i<30; i++) particles.push(new Particle());
    function startHeavyHearts() { for(let i=0; i<80; i++) particles.push(new Particle()); }

    function render() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        particles.forEach(p => { p.update(); p.draw(); });
        requestAnimationFrame(render);
    }
    render();
</script>
</body>
</html>
